"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[478],{783:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"api-reference/download-logs","title":"downloadLogs","description":"Programmatically trigger a log download. This method respects the current singleFile and timestamps settings and will download logs in the same format as the UI button.","source":"@site/docs/api-reference/download-logs.md","sourceDirName":"api-reference","slug":"/api-reference/download-logs","permalink":"/interactive-logger/docs/api-reference/download-logs","draft":false,"unlisted":false,"editUrl":"https://github.com/n1snt/interactive-logger/tree/main/docs/docs/api-reference/download-logs.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"getLogger","permalink":"/interactive-logger/docs/api-reference/get-logger"},"next":{"title":"injectButton","permalink":"/interactive-logger/docs/api-reference/inject-button"}}');var i=l(4848),s=l(8453);const r={sidebar_position:4},a="downloadLogs",t={},d=[{value:"Syntax",id:"syntax",level:2},{value:"Returns",id:"returns",level:2},{value:"Examples",id:"examples",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"In Event Handler",id:"in-event-handler",level:3},{value:"With Error Handling",id:"with-error-handling",level:3},{value:"Download Format",id:"download-format",level:2},{value:"Single File Mode (<code>singleFile: true</code>)",id:"single-file-mode-singlefile-true",level:3},{value:"Multi-File Mode (<code>singleFile: false</code>, default)",id:"multi-file-mode-singlefile-false-default",level:3},{value:"Notes",id:"notes",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"downloadlogs",children:"downloadLogs"})}),"\n",(0,i.jsxs)(n.p,{children:["Programmatically trigger a log download. This method respects the current ",(0,i.jsx)(n.code,{children:"singleFile"})," and ",(0,i.jsx)(n.code,{children:"timestamps"})," settings and will download logs in the same format as the UI button."]}),"\n",(0,i.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"downloadLogs(): Promise<void>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"returns",children:"Returns"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.code,{children:"Promise<void>"})," that resolves when the download is initiated."]}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const logger = InteractiveLogger();\n\n// Trigger download programmatically\nawait logger.downloadLogs();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"in-event-handler",children:"In Event Handler"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const logger = InteractiveLogger();\n\ndocument.getElementById('downloadBtn').addEventListener('click', async () => {\n  await logger.downloadLogs();\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"with-error-handling",children:"With Error Handling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const logger = InteractiveLogger();\n\ntry {\n  await logger.downloadLogs();\n  console.log('Download initiated');\n} catch (error) {\n  console.error('Download failed:', error);\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"download-format",children:"Download Format"}),"\n",(0,i.jsxs)(n.p,{children:["The download format depends on your ",(0,i.jsx)(n.code,{children:"singleFile"})," setting:"]}),"\n",(0,i.jsxs)(n.h3,{id:"single-file-mode-singlefile-true",children:["Single File Mode (",(0,i.jsx)(n.code,{children:"singleFile: true"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["Downloads a single ",(0,i.jsx)(n.code,{children:".log"})," file containing all logs from all logger instances, sorted chronologically:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"============================================================\n[2024-01-15T10:30:00.000Z] New Session\n============================================================\n\n[2024-01-15T10:30:00.000Z] [app] Application started\n[2024-01-15T10:30:01.000Z] [api] GET /api/users - Status: 200\n[2024-01-15T10:30:02.000Z] [app] User logged in\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"multi-file-mode-singlefile-false-default",children:["Multi-File Mode (",(0,i.jsx)(n.code,{children:"singleFile: false"}),", default)"]}),"\n",(0,i.jsxs)(n.p,{children:["Downloads a ",(0,i.jsx)(n.code,{children:".zip"})," file with separate files for each logger instance:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"illogger-logs.zip\n\u251c\u2500\u2500 app.log\n\u251c\u2500\u2500 api.log\n\u251c\u2500\u2500 ui.log\n\u251c\u2500\u2500 auth.log\n\u2514\u2500\u2500 __console__.log  (if console interception is enabled)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Each file contains logs from that specific logger instance, with timestamps if enabled."}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The download is triggered asynchronously"}),"\n",(0,i.jsx)(n.li,{children:"The promise resolves when the download is initiated, not when it completes"}),"\n",(0,i.jsx)(n.li,{children:"The download format matches what the UI button would download"}),"\n",(0,i.jsxs)(n.li,{children:["Session separators are included if ",(0,i.jsx)(n.code,{children:"sessionSeparator"})," is enabled"]}),"\n",(0,i.jsx)(n.li,{children:"Console intercepted logs are included if console interception is enabled"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./inject-button",children:"injectButton"})," - Inject a UI button for downloads"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./enable-console-interface",children:"enableConsoleInterface"})," - Enable console download function"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../examples#programmatic-download",children:"Examples"})," - More examples"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>a});var o=l(6540);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);